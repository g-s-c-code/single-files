<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoTR Dice Roller</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="text-dark">
    <div class="card">
        <div class="card-body p-0">
            <img src="https://raw.githubusercontent.com/G-C-Code/LoTRDiceRoller/main/bg.jpg" class="img-fluid w-100" alt="Two vintage cars in a field of grass" />
            <div class="card-img-overlay overflow-auto">
                <h1 class="card-title">LoTR Dice Roller</h1>
                <div class="position-absolute d-flex justify-content-center align-items-center mt-5">
                            <div class="row mt-4">
                                <div class="col p-2">
                                    <label for="attacker-dice" class="form-label">No. of Attacker Dice:</label>
                                    <select id="attacker-dice" class="form-select">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                    </select>
                                </div>
                                <div class="col p-2">
                                    <label for="defender-dice" class="form-label">No. of Defender Dice:</label>
                                    <select id="defender-dice" class="form-select">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </div>
                                <div class="col p-2">
                                    <div class="form-check">
                                        <input type="checkbox" id="attacker-leader" class="form-check-input">
                                        <label for="attacker-leader" class="form-check-label">Attacker Leader</label>
                                    </div>
                                </div>
                                <div class="col p-2">
                                    <div class="form-check">
                                        <input type="checkbox" id="defender-leader" class="form-check-input">
                                        <label for="defender-leader" class="form-check-label">Defender Leader</label>
                                    </div>
                                </div>
                                <div class="col p-2">
                                    <div class="form-check">
                                        <input type="checkbox" id="defender-fortress" class="form-check-input">
                                        <label for="defender-fortress" class="form-check-label">Defender Fortress</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row text-center">
                                <div class="col">
                                    <button id="roll-button" class="btn btn-primary">ROLL!</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div id="result" class="alert alert-danger"></div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-muted">
                            &copy; 2023 LoTR Dice Roller
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <script>
        document.getElementById("roll-button").addEventListener("click", function() {
            const attackerDiceCount = parseInt(document.getElementById("attacker-dice").value);
            const defenderDiceCount = parseInt(document.getElementById("defender-dice").value);
            const attackerHasLeader = document.getElementById("attacker-leader").checked;
            const defenderHasLeader = document.getElementById("defender-leader").checked;
            const defenderIsInFortress = document.getElementById("defender-fortress").checked;
    
            const attackerRolls = [];
            const defenderRolls = [];
    
            for (let i = 0; i < attackerDiceCount; i++) {
                attackerRolls.push(Math.floor(Math.random() * 6) + 1);
            }
    
            for (let i = 0; i < defenderDiceCount; i++) {
                defenderRolls.push(Math.floor(Math.random() * 6) + 1);
            }
    
            attackerRolls.sort((a, b) => b - a);
            defenderRolls.sort((a, b) => b - a);
    
            if (attackerHasLeader) {
                attackerRolls[0]++;
            }
    
            if (defenderHasLeader) {
                if (!defenderIsInFortress) {
                    defenderRolls[0]++;
                } else {
                    defenderRolls[0]++;
                }
            }
    
            let attackerCasualties = 0;
            let defenderCasualties = 0;
    
            for (let i = 0; i < Math.min(attackerDiceCount, defenderDiceCount); i++) {
                if (attackerRolls[i] > defenderRolls[i]) {
                    defenderCasualties++;
                } else {
                    attackerCasualties++;
                }
            }
    
            const resultMessage = `Attacker rolled: [${attackerRolls.join(", ")}]<br>Defender rolled: [${defenderRolls.join(", ")}]<br>Casualties - Attacker: ${attackerCasualties}, Defender: ${defenderCasualties}`;
            document.getElementById("result").innerHTML = resultMessage;
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
