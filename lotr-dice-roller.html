<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoTR Dice Roller</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Garamond, Palatino, Palatino Linotype, Georgia, Times, Times New Roman, serif;
        }

        /* Smaller screens */
        @media (max-width: 767.99px) {
            * {
                font-size: 10px;
            }
        }

        /* Medium screens */
        @media (min-width: 768px) and (max-width: 992px) {
            * {
                font-size: 12px;
            }
        }

        /* Larger screens */
        @media (min-width: 993px) {
            * {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="card">
        <div class="card-body p-0">
            <img src="https://raw.githubusercontent.com/G-C-Code/LoTRDiceRoller/main/bg.jpg" class="img-fluid w-100" alt="Two vintage cars in a field of grass" />
            <div class="card-img-overlay d-flex flex-column justify-content-center h-100">
                <div class="container d-flex flex-column align-items-center mt-5">
                    <div class="row">
                        <div class="col">
                            <h1 class="card-title fw-bold text-center text-uppercase fs-3 m-0">-Dice Roller-</h1>
                            <h6 class="text-center">‚öîÔ∏è Battle Simulator for LoTR Risk üèπ</h6>
                            <table class="table-borderless mt-3 w-100">
                                <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col">Attacker</th>
                                    <th scope="col">Defender</th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th>+1 bonus:</th>
                                        <td>
                                            <div class="form-switch w-100">
                                                <input type="checkbox" id="attacker-leader" class="form-check-input">
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-switch">
                                                <input type="checkbox" id="defender-leader" class="form-check-input">
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>No. of dice:</th>
                                        <td>
                                            <select id="attacker-dice" class="form-select form-select-sm">
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select id="defender-dice" class="form-select form-select-sm">
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Rolls:</th>
                                        <td id="attacker-rolls"></td>
                                        <td id="defender-rolls"></td>
                                    </tr>
                                    <tr>
                                        <th>Casualties:</th>
                                        <td id="attacker-casualties"></td>
                                        <td id="defender-casualties"></td>
                                    </tr>
                                    <tr class="text-center">
                                        <td colspan="3">
                                            <button id="roll-button" class="btn btn-outline-dark border-0">ROLL!</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById("roll-button").addEventListener("click", function() {
        const attackerDiceCount = parseInt(document.getElementById("attacker-dice").value);
        const defenderDiceCount = parseInt(document.getElementById("defender-dice").value);
        const attackerHasLeader = document.getElementById("attacker-leader").checked;
        const defenderHasLeader = document.getElementById("defender-leader").checked;

        const attackerRolls = [];
        const defenderRolls = [];

        for (let i = 0; i < attackerDiceCount; i++) {
            attackerRolls.push(Math.floor(Math.random() * 6) + 1);
        }

        for (let i = 0; i < defenderDiceCount; i++) {
            defenderRolls.push(Math.floor(Math.random() * 6) + 1);
        }

        attackerRolls.sort((a, b) => b - a);
        defenderRolls.sort((a, b) => b - a);

        if (attackerHasLeader) {
            attackerRolls[0]++;
        }

        if (defenderHasLeader) {
            defenderRolls[0]++;
        }

        let attackerCasualties = 0;
        let defenderCasualties = 0;

        for (let i = 0; i < Math.min(attackerDiceCount, defenderDiceCount); i++) {
            if (attackerRolls[i] > defenderRolls[i]) {
                defenderCasualties++;
            } else {
                attackerCasualties++;
            }
        }

        const attackerRollsText = `${attackerRolls.join(", ")}`;
        const defenderRollsText = `${defenderRolls.join(", ")}`;
        document.getElementById("attacker-rolls").textContent = attackerRollsText;
        document.getElementById("defender-rolls").textContent = defenderRollsText;

        document.getElementById("attacker-casualties").textContent = attackerCasualties;
        document.getElementById("defender-casualties").textContent = defenderCasualties;
    });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
